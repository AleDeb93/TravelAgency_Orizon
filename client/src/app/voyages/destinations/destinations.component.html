<div class="hero">
  <img src="destinations.png" alt="Destinations img" class="destinations-img" />
</div>
<!-- Slogan pagina destinazioni -->
<div id="destinations">
  <p class="title">DESTINAZIONI</p>
  <p class="slogan">VIAGGIA DOVE IL RISPETTO INCONTRA L'AVVENTURA</p>
</div>
<!-- Le destinazioni verranno mostrate da qui getAll -->
<section class="text-center">
  <div class="row py-lg-5">
    <div class="col-lg-6 col-md-8 mx-auto">
      <p class="lead text-body-secondary">
        Scopri tutte le destinazioni disponibili senza filtri, scopri il mondo con occhi diversi nel rispetto della
        natura e dei popoli.
      </p>
    </div>
  </div>
</section>

<app-loading *ngIf="loading"></app-loading>

<div *ngIf="!loading" class="album py-5 bg-body-tertiary">
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      <div class="col" *ngFor="let destination of destinations"
        [ngClass]="{'highlighted': destination.discount !== null}">
        <div class="card shadow-sm">
          <img [src]="'http://localhost:3000/' + destination.imageUrl.replace('docs/', '')" class="card-img-top"
            alt="Destinations img" width="100%" height="225" />
          <div class="card-body">
            <h3>{{ destination.name }}</h3>
            <p class="card-text">{{ destination.description }}</p>
            <p class="card-text"><strong>A partire da:</strong>
              <span *ngIf="destination.discount != null" style="text-decoration: line-through; color: gray;">
                {{ destination.price | currency:'EUR' }}
              </span>
              {{ (destination.price - (destination.price * (destination.discount / 100))) | currency:'EUR' }}
            </p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary"
                  [routerLink]="['/voyages/destinations', destination.id]">
                  Scopri di pi√π
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary">
                  Aggiungi al carrello
                </button>
              </div>
              <small class="text-body-secondary">Tickets: {{destination.tickets}}</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>